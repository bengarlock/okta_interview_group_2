{"ast":null,"code":"import _classCallCheck from\"/Users/bengarlock/Desktop/okta-interview-prep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bengarlock/Desktop/okta-interview-prep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bengarlock/Desktop/okta-interview-prep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bengarlock/Desktop/okta-interview-prep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _temp;import React from'react';import{withOktaAuth}from\"@okta/okta-react\";import User from\"../Cards/User\";import CreateUserForm from\"../Forms/CreateUserForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var backendUrl=\"http://127.0.0.1:3000\";export default withOktaAuth((_temp=/*#__PURE__*/function(_React$Component){_inherits(Admin,_React$Component);var _super=_createSuper(Admin);function Admin(){var _this;_classCallCheck(this,Admin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:null,groups:null,create_user_form:false};_this.toggleCreateUserForm=function(){_this.setState({create_user_form:!_this.state.create_user_form});};_this.fetchGroups=function(){var packet={method:\"GET\",headers:{'Content-Type':\"application/json\",'Accept':\"application/json\"}};fetch(\"http://127.0.0.1:3000/okta_groups/\",packet).then(function(res){return res.json();}).then(function(groups){return _this.setState({groups:groups});});};_this.fetchUsers=function(){var packet={method:\"GET\",headers:{'Content-Type':\"application/json\",'Accept':\"application/json\"}};fetch(\"http://127.0.0.1:3000/okta_users/\",packet).then(function(res){return res.json();}).then(function(users){return _this.setState({users:users});});};_this.renderUsers=function(){return _this.state.users.map(function(user){return/*#__PURE__*/_jsx(User,{user:user,groups:_this.state.groups,backendUrl:_this.props.backendUrl},user.id);});};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUsers();this.fetchGroups();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"page-header\",children:\"User Administration\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"content-header\",children:\"Current Users\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:this.state.users?this.renderUsers():null}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleCreateUserForm,children:\"Create User\"}),this.state.create_user_form?/*#__PURE__*/_jsx(CreateUserForm,{backendUrl:this.props.backendUrl}):null]})]});}}]);return Admin;}(React.Component),_temp));","map":{"version":3,"sources":["/Users/bengarlock/Desktop/okta-interview-prep/src/Components/Pages/Admin.js"],"names":["React","withOktaAuth","User","CreateUserForm","backendUrl","state","users","groups","create_user_form","toggleCreateUserForm","setState","fetchGroups","packet","method","headers","fetch","then","res","json","fetchUsers","renderUsers","map","user","props","id","Component"],"mappings":"0oBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,YAAR,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,uBAAnB,CAEA,cAAeH,CAAAA,YAAY,0UAEvBI,KAFuB,CAEf,CACJC,KAAK,CAAE,IADH,CAEJC,MAAM,CAAE,IAFJ,CAGJC,gBAAgB,CAAE,KAHd,CAFe,OAevBC,oBAfuB,CAeA,UAAM,CACzB,MAAKC,QAAL,CAAc,CACVF,gBAAgB,CAAE,CAAC,MAAKH,KAAL,CAAWG,gBADpB,CAAd,EAGH,CAnBsB,OAqBvBG,WArBuB,CAqBT,UAAM,CAChB,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,KADG,CAEXC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,SAAU,kBAFL,CAFE,CAAf,CAOAC,KAAK,CAAC,oCAAD,CAAuCH,MAAvC,CAAL,CACKI,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAT,MAAM,QAAI,OAAKG,QAAL,CAAc,CAACH,MAAM,CAAEA,MAAT,CAAd,CAAJ,EAFhB,EAGH,CAhCsB,OAkCvBY,UAlCuB,CAkCV,UAAM,CACf,GAAMP,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,KADG,CAEXC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,SAAU,kBAFL,CAFE,CAAf,CAOAC,KAAK,CAAC,mCAAD,CAAsCH,MAAtC,CAAL,CACKI,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAV,KAAK,QAAI,OAAKI,QAAL,CAAc,CAACJ,KAAK,CAAEA,KAAR,CAAd,CAAJ,EAFf,EAGH,CA7CsB,OA+CvBc,WA/CuB,CA+CT,UAAM,CAChB,MAAO,OAAKf,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CACH,SAAAC,IAAI,qBAAI,KAAC,IAAD,EAER,IAAI,CAAEA,IAFE,CAGR,MAAM,CAAE,MAAKjB,KAAL,CAAWE,MAHX,CAIR,UAAU,CAAE,MAAKgB,KAAL,CAAWnB,UAJf,EACHkB,IAAI,CAACE,EADF,CAAJ,EADD,CAAP,CAMH,CAtDsB,kEAUvB,4BAAoB,CAChB,KAAKL,UAAL,GACA,KAAKR,WAAL,GACH,CAbsB,sBAwDvB,iBAAS,CACL,mBACI,oCACI,WAAI,SAAS,CAAC,aAAd,iCADJ,cAGI,WAAI,SAAS,CAAC,gBAAd,2BAHJ,cAII,YAAK,SAAS,CAAC,WAAf,UACS,KAAKN,KAAL,CAAWC,KAAX,CAAmB,KAAKc,WAAL,EAAnB,CAAwC,IADjD,EAJJ,cAQI,oCACI,eAAQ,OAAO,CAAE,KAAKX,oBAAtB,yBADJ,CAEK,KAAKJ,KAAL,CAAWG,gBAAX,cAA8B,KAAC,cAAD,EAAgB,UAAU,CAAE,KAAKe,KAAL,CAAWnB,UAAvC,EAA9B,CAAqF,IAF1F,GARJ,GADJ,CAiBH,CA1EsB,mBAAqBJ,KAAK,CAACyB,SAA3B,SAA3B","sourcesContent":["import React from 'react'\nimport {withOktaAuth} from \"@okta/okta-react\";\nimport User from \"../Cards/User\";\nimport CreateUserForm from \"../Forms/CreateUserForm\";\n\n\nconst backendUrl = \"http://127.0.0.1:3000\"\n\nexport default withOktaAuth(class Admin extends React.Component{\n\n    state = {\n        users: null,\n        groups: null,\n        create_user_form: false,\n    }\n\n\n\n    componentDidMount() {\n        this.fetchUsers()\n        this.fetchGroups()\n    }\n\n    toggleCreateUserForm = () => {\n        this.setState({\n            create_user_form: !this.state.create_user_form\n        })\n    }\n\n    fetchGroups = () => {\n        const packet = {\n            method: \"GET\",\n            headers: {\n                'Content-Type': \"application/json\",\n                'Accept': \"application/json\",\n            },\n        }\n        fetch(\"http://127.0.0.1:3000/okta_groups/\", packet)\n            .then(res => res.json())\n            .then(groups => this.setState({groups: groups}))\n    }\n\n    fetchUsers = () => {\n        const packet = {\n            method: \"GET\",\n            headers: {\n                'Content-Type': \"application/json\",\n                'Accept': \"application/json\",\n            },\n        }\n        fetch(\"http://127.0.0.1:3000/okta_users/\", packet)\n            .then(res => res.json())\n            .then(users => this.setState({users: users}))\n    }\n\n    renderUsers = () => {\n        return this.state.users.map(\n            user => <User\n            key={user.id}\n            user={user}\n            groups={this.state.groups}\n            backendUrl={this.props.backendUrl} />)\n    }\n\n    render() {\n        return(\n            <div>\n                <h3 className=\"page-header\">User Administration</h3>\n\n                <h2 className=\"content-header\">Current Users</h2>\n                <div className=\"container\">\n                        {this.state.users ? this.renderUsers() : null}\n                 </div>\n\n                <div>\n                    <button onClick={this.toggleCreateUserForm}>Create User</button>\n                    {this.state.create_user_form ? <CreateUserForm backendUrl={this.props.backendUrl}/> : null}\n                </div>\n            </div>\n\n\n        )\n    }\n})\n\n"]},"metadata":{},"sourceType":"module"}